<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IzzIco Icon - V2 vs V3 (Buste Court)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a12;
            --bg-panel: #12121a;
            --bg-card: #1a1a24;
            --border: #2a2a3a;
            --text: #e8e8f0;
            --text-muted: #8888a0;
            --accent-v2: #6366f1;
            --accent-v3: #f59e0b;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            min-height: 100vh;
            padding: 2rem;
        }

        h1 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-bottom: 2rem;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto 2rem;
        }

        .version-card {
            background: var(--bg-panel);
            border-radius: 20px;
            border: 2px solid var(--border);
            overflow: hidden;
        }

        .version-card.v2 { border-color: var(--accent-v2); }
        .version-card.v3 { border-color: var(--accent-v3); }

        .version-header {
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .version-card.v2 .version-header { background: rgba(99, 102, 241, 0.1); }
        .version-card.v3 .version-header { background: rgba(245, 158, 11, 0.1); }

        .version-title {
            font-size: 1rem;
            font-weight: 600;
        }

        .version-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .version-card.v2 .version-badge { background: var(--accent-v2); color: white; }
        .version-card.v3 .version-badge { background: var(--accent-v3); color: black; }

        .icon-display {
            padding: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-card);
            min-height: 280px;
        }

        .specs-section {
            padding: 1.5rem;
        }

        .specs-title {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .spec-group {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 1rem;
        }

        .spec-group h4 {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .spec-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            padding: 0.25rem 0;
        }

        .spec-row span:last-child {
            font-family: monospace;
        }

        .version-card.v2 .spec-row span:last-child { color: var(--accent-v2); }
        .version-card.v3 .spec-row span:last-child { color: var(--accent-v3); }

        .spec-row.highlight {
            background: rgba(245, 158, 11, 0.1);
            margin: 0 -0.5rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }

        .concept-box {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.75rem;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .size-comparison {
            background: var(--bg-panel);
            border-radius: 20px;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto 2rem;
        }

        .size-comparison h3 {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .size-row {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 3rem;
        }

        .size-item {
            text-align: center;
        }

        .size-icons {
            display: flex;
            gap: 1.5rem;
            align-items: flex-end;
            margin-bottom: 0.5rem;
        }

        .size-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .v2-label { color: var(--accent-v2); }
        .v3-label { color: var(--accent-v3); }

        .diff-section {
            background: var(--bg-panel);
            border-radius: 20px;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .diff-section h3 {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 1rem;
            text-align: center;
        }

        .diff-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.8rem;
        }

        .diff-table th {
            text-align: left;
            padding: 0.75rem;
            background: var(--bg-card);
            color: var(--text-muted);
            font-weight: 500;
        }

        .diff-table td {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .diff-table .v2-val { color: var(--accent-v2); font-family: monospace; }
        .diff-table .v3-val { color: var(--accent-v3); font-family: monospace; }

        .formula-box {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
            font-family: monospace;
            font-size: 0.85rem;
            text-align: center;
        }

        .formula-box .formula {
            color: var(--accent-v3);
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .formula-box .result {
            color: var(--text-muted);
            font-size: 0.75rem;
        }
    </style>
</head>
<body>
    <h1>IzzIco Icon - V2 vs V3</h1>
    <p class="subtitle">V3 = Buste rapproche et court (33% de la tete)</p>

    <div class="comparison-grid">
        <!-- V2 Card -->
        <div class="version-card v2">
            <div class="version-header">
                <span class="version-title">V2 - Fredoka "i" Original</span>
                <span class="version-badge">VERROUILLE</span>
            </div>
            <div class="icon-display" id="v2-display"></div>
            <div class="specs-section">
                <div class="specs-title">Specifications</div>
                <div class="specs-grid">
                    <div class="spec-group">
                        <h4>Tete (Superellipse)</h4>
                        <div class="spec-row"><span>Taille</span><span>39</span></div>
                        <div class="spec-row"><span>Squircle n</span><span>4.5</span></div>
                        <div class="spec-row"><span>Stroke</span><span>8.5</span></div>
                    </div>
                    <div class="spec-group">
                        <h4>Buste (Rectangle)</h4>
                        <div class="spec-row"><span>Largeur</span><span>44</span></div>
                        <div class="spec-row"><span>Hauteur</span><span>40</span></div>
                        <div class="spec-row"><span>Gap</span><span>15</span></div>
                        <div class="spec-row"><span>Ratio H/Tete</span><span>103%</span></div>
                    </div>
                </div>
                <div class="concept-box">
                    <strong>V2:</strong> Le buste est un rectangle allonge qui evoque le stem du "i" Fredoka. Proportions classiques d'une lettre typographique.
                </div>
            </div>
        </div>

        <!-- V3 Card -->
        <div class="version-card v3">
            <div class="version-header">
                <span class="version-title">V3 - Buste Court (33%)</span>
                <span class="version-badge">EXPLORATION</span>
            </div>
            <div class="icon-display" id="v3-display"></div>
            <div class="specs-section">
                <div class="specs-title">Specifications</div>
                <div class="specs-grid">
                    <div class="spec-group">
                        <h4>Tete (Superellipse)</h4>
                        <div class="spec-row"><span>Taille</span><span>39</span></div>
                        <div class="spec-row"><span>Squircle n</span><span>4.5</span></div>
                        <div class="spec-row"><span>Stroke</span><span>8.5</span></div>
                    </div>
                    <div class="spec-group">
                        <h4>Buste (Rectangle)</h4>
                        <div class="spec-row"><span>Largeur</span><span>44</span></div>
                        <div class="spec-row highlight"><span>Hauteur</span><span>13</span></div>
                        <div class="spec-row highlight"><span>Gap</span><span>5</span></div>
                        <div class="spec-row highlight"><span>Ratio H/Tete</span><span>33%</span></div>
                    </div>
                </div>
                <div class="concept-box">
                    <strong>V3:</strong> Le buste est reduit a 33% de la tete et rapproche. L'icone devient plus compacte et iconique, moins typographique.
                </div>
            </div>
        </div>
    </div>

    <div class="diff-section">
        <h3>Differences cles</h3>
        <table class="diff-table">
            <tr>
                <th>Parametre</th>
                <th>V2</th>
                <th>V3</th>
                <th>Changement</th>
            </tr>
            <tr>
                <td>Hauteur buste</td>
                <td class="v2-val">40</td>
                <td class="v3-val">13</td>
                <td>-67.5%</td>
            </tr>
            <tr>
                <td>Gap tete-buste</td>
                <td class="v2-val">15</td>
                <td class="v3-val">5</td>
                <td>-67%</td>
            </tr>
            <tr>
                <td>Ratio H/Tete</td>
                <td class="v2-val">103%</td>
                <td class="v3-val">33%</td>
                <td>Compact</td>
            </tr>
            <tr>
                <td>Style</td>
                <td class="v2-val">Typographique</td>
                <td class="v3-val">Iconique</td>
                <td>-</td>
            </tr>
        </table>
        <div class="formula-box">
            <div class="formula">bustHeight = tittleSize × 0.33</div>
            <div class="result">39 × 0.33 ≈ 13</div>
        </div>
    </div>

    <div class="size-comparison">
        <h3>Comparaison par taille</h3>
        <div class="size-row">
            <div class="size-item">
                <div class="size-icons">
                    <div id="v2-128"></div>
                    <div id="v3-128"></div>
                </div>
                <div class="size-label"><span class="v2-label">V2</span> / <span class="v3-label">V3</span> @ 128px</div>
            </div>
            <div class="size-item">
                <div class="size-icons">
                    <div id="v2-64"></div>
                    <div id="v3-64"></div>
                </div>
                <div class="size-label"><span class="v2-label">V2</span> / <span class="v3-label">V3</span> @ 64px</div>
            </div>
            <div class="size-item">
                <div class="size-icons">
                    <div id="v2-32"></div>
                    <div id="v3-32"></div>
                </div>
                <div class="size-label"><span class="v2-label">V2</span> / <span class="v3-label">V3</span> @ 32px</div>
            </div>
        </div>
    </div>

    <script>
        // V2 SPECS (LOCKED - Fredoka "i" based)
        const V2 = {
            tittle: { size: 39, n: 4.5, stroke: 8.5, y: 60 },
            stem: { width: 44, height: 40, radius: 50, gap: 15 },
            loupe: { angle: 137, length: 31, stroke: 8 },
            key: { angle: 40, length: 31, stroke: 8, teethSize: 10 }
        };

        // V3 SPECS (Compact bust - 33% of tittle)
        const V3 = {
            tittle: { size: 39, n: 4.5, stroke: 8.5, y: 60 },
            stem: {
                width: 44,
                height: Math.round(39 * 0.33), // 33% of tittle size = 13
                radius: 50,
                gap: 5  // Closer gap
            },
            loupe: { angle: 137, length: 31, stroke: 8 },
            key: { angle: 40, length: 31, stroke: 8, teethSize: 10 }
        };

        function createSVG(tag, attrs) {
            const el = document.createElementNS('http://www.w3.org/2000/svg', tag);
            Object.keys(attrs).forEach(k => el.setAttribute(k, attrs[k]));
            return el;
        }

        function clearEl(el) {
            while (el.firstChild) el.removeChild(el.firstChild);
        }

        function superellipsePath(cx, cy, a, b, n, pts = 80) {
            const path = [];
            for (let i = 0; i <= pts; i++) {
                const ang = (2 * Math.PI * i) / pts;
                const c = Math.cos(ang), s = Math.sin(ang);
                const x = cx + a * Math.sign(c) * Math.pow(Math.abs(c), 2/n);
                const y = cy + b * Math.sign(s) * Math.pow(Math.abs(s), 2/n);
                path.push(i === 0 ? `M ${x.toFixed(1)} ${y.toFixed(1)}` : `L ${x.toFixed(1)} ${y.toFixed(1)}`);
            }
            path.push('Z');
            return path.join(' ');
        }

        function superellipsePoint(cx, cy, a, b, n, angle) {
            const c = Math.cos(angle), s = Math.sin(angle);
            return {
                x: cx + a * Math.sign(c) * Math.pow(Math.abs(c), 2/n),
                y: cy + b * Math.sign(s) * Math.pow(Math.abs(s), 2/n)
            };
        }

        // Generic icon creator for V2/V3
        function createIcon(specs, size) {
            const t = specs.tittle;
            const s = specs.stem;
            const cx = 100;

            // Calculate actual bounds
            const tittleTop = t.y - t.size/2 - t.stroke/2;
            const stemBottom = t.y + t.size/2 + s.gap + s.height;

            // Loupe extends to the left
            const lRad = specs.loupe.angle * Math.PI / 180;
            const loupeEndX = cx + (t.size/2) * Math.cos(lRad) + specs.loupe.length * Math.cos(lRad);
            const loupeEndY = t.y + (t.size/2) * Math.sin(lRad) + specs.loupe.length * Math.sin(lRad);

            // Key extends to the right
            const kRad = specs.key.angle * Math.PI / 180;
            const keyEndX = cx + (t.size/2) * Math.cos(kRad) + specs.key.length * Math.cos(kRad);
            const keyEndY = t.y + (t.size/2) * Math.sin(kRad) + specs.key.length * Math.sin(kRad);

            // Calculate bounds with padding
            const padding = 10;
            const minX = Math.min(loupeEndX, cx - s.width/2) - padding - specs.loupe.stroke;
            const maxX = Math.max(keyEndX + specs.key.teethSize, cx + s.width/2) + padding + specs.key.stroke;
            const minY = tittleTop - padding;
            const maxY = Math.max(stemBottom, loupeEndY, keyEndY) + padding + specs.loupe.stroke;

            const width = maxX - minX;
            const height = maxY - minY;

            // Use square viewBox centered on content
            const viewSize = Math.max(width, height);
            const offsetX = minX - (viewSize - width) / 2;
            const offsetY = minY - (viewSize - height) / 2;

            const svg = createSVG('svg', {
                viewBox: `${offsetX} ${offsetY} ${viewSize} ${viewSize}`,
                width: size,
                height: size,
                fill: 'none'
            });

            // Tittle (superellipse)
            const tittlePath = superellipsePath(cx, t.y, t.size/2, t.size/2, t.n);
            svg.appendChild(createSVG('path', {
                d: tittlePath,
                fill: 'none',
                stroke: 'white',
                'stroke-width': t.stroke
            }));

            // Stem (rounded rect)
            const stemTop = t.y + t.size/2 + s.gap;
            const stemRx = (Math.min(s.width, s.height) / 2) * (s.radius / 100);
            svg.appendChild(createSVG('rect', {
                x: cx - s.width/2,
                y: stemTop,
                width: s.width,
                height: s.height,
                rx: stemRx,
                fill: 'white'
            }));

            // Loupe
            const lStart = superellipsePoint(cx, t.y, t.size/2, t.size/2, t.n, lRad);
            svg.appendChild(createSVG('line', {
                x1: lStart.x, y1: lStart.y,
                x2: lStart.x + specs.loupe.length * Math.cos(lRad),
                y2: lStart.y + specs.loupe.length * Math.sin(lRad),
                stroke: 'white',
                'stroke-width': specs.loupe.stroke,
                'stroke-linecap': 'round'
            }));

            // Key
            const kStart = superellipsePoint(cx, t.y, t.size/2, t.size/2, t.n, kRad);
            const kEndX2 = kStart.x + specs.key.length * Math.cos(kRad);
            const kEndY2 = kStart.y + specs.key.length * Math.sin(kRad);
            svg.appendChild(createSVG('line', {
                x1: kStart.x, y1: kStart.y,
                x2: kEndX2, y2: kEndY2,
                stroke: 'white',
                'stroke-width': specs.key.stroke,
                'stroke-linecap': 'round'
            }));

            // Teeth
            const tRad = kRad + Math.PI / 2;
            [0.5, 0.75].forEach(p => {
                const tx = kStart.x + (kEndX2 - kStart.x) * p;
                const ty = kStart.y + (kEndY2 - kStart.y) * p;
                svg.appendChild(createSVG('line', {
                    x1: tx, y1: ty,
                    x2: tx + specs.key.teethSize * Math.cos(tRad),
                    y2: ty + specs.key.teethSize * Math.sin(tRad),
                    stroke: 'white',
                    'stroke-width': specs.key.stroke * 0.5,
                    'stroke-linecap': 'round'
                }));
            });

            return svg;
        }

        function render() {
            // Main displays
            clearEl(document.getElementById('v2-display'));
            document.getElementById('v2-display').appendChild(createIcon(V2, 180));

            clearEl(document.getElementById('v3-display'));
            document.getElementById('v3-display').appendChild(createIcon(V3, 180));

            // Size comparison
            [128, 64, 32].forEach(size => {
                const v2El = document.getElementById(`v2-${size}`);
                const v3El = document.getElementById(`v3-${size}`);
                clearEl(v2El); clearEl(v3El);
                v2El.appendChild(createIcon(V2, size));
                v3El.appendChild(createIcon(V3, size));
            });
        }

        render();
    </script>
</body>
</html>
