<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IzzIco Wordmark - Fredoka Export</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: #1a1a2e;
            color: #e0e0e0;
            min-height: 100vh;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #FFB10B, #9B59B6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #888;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .export-container {
            background: #252540;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .canvas-wrapper {
            background: #fff;
            padding: 60px 80px;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .canvas-wrapper.dark-bg {
            background: #1a1a2e;
        }

        .canvas-wrapper.transparent-bg {
            background: repeating-conic-gradient(#808080 0% 25%, #fff 0% 50%) 50% / 20px 20px;
        }

        /* LOCKED SPECS from locked-specs.md */
        .wordmark-balanced {
            font-family: 'Fredoka', sans-serif;
            font-size: 200px;
            line-height: 1;
            display: inline-flex;
        }

        .wordmark-balanced span {
            display: inline-block;
        }

        /* LOCKED: Per-letter weights */
        .l-i { font-weight: 600; }
        .l-z { font-weight: 540; }
        .l-c { font-weight: 540; }
        .l-o { font-weight: 540; }

        /* LOCKED: ZZ spacing */
        .zz-space { margin-right: -0.18em; }

        .controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .control-group {
            background: #1a1a2e;
            padding: 1rem;
            border-radius: 0.5rem;
        }

        .control-group label {
            display: block;
            font-size: 0.75rem;
            color: #888;
            margin-bottom: 0.5rem;
        }

        .control-group select,
        .control-group input[type="number"] {
            padding: 0.5rem;
            border: 1px solid #333;
            border-radius: 0.25rem;
            background: #252540;
            color: #fff;
            font-size: 0.9rem;
            width: 100%;
        }

        .control-group input[type="color"] {
            width: 50px;
            height: 30px;
            border: none;
            border-radius: 0.25rem;
            cursor: pointer;
        }

        .control-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }

        .buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn.primary {
            background: linear-gradient(135deg, #FFB10B, #E67E22);
            color: #000;
        }

        .btn.secondary {
            background: #9B59B6;
            color: #fff;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .specs-box {
            background: #0a0a15;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 2rem;
            font-family: monospace;
            font-size: 0.75rem;
            color: #9B59B6;
            max-width: 500px;
        }

        .specs-box h3 {
            color: #FFB10B;
            margin-bottom: 0.5rem;
            font-size: 0.8rem;
        }

        .locked-badge {
            display: inline-block;
            background: #e74c3c;
            color: #fff;
            padding: 0.2rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.65rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        canvas {
            display: none;
        }

        .preview-sizes {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 2rem;
            max-width: 800px;
        }

        .preview-item {
            background: #252540;
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
        }

        .preview-label {
            font-size: 0.7rem;
            color: #888;
            margin-bottom: 0.5rem;
        }

        .preview-item .wordmark-balanced {
            font-size: 32px;
        }

        .preview-item.large .wordmark-balanced {
            font-size: 48px;
        }

        .preview-item.small .wordmark-balanced {
            font-size: 20px;
        }
    </style>
</head>
<body>
    <h1>IzzIco Wordmark Export</h1>
    <p class="subtitle">Wordmark "izzico" en Fredoka - Configuration verrouill√©e</p>

    <div class="export-container">
        <div class="canvas-wrapper" id="canvas-wrapper">
            <div class="wordmark-balanced" id="wordmark">
                <span class="l-i">i</span>
                <span class="l-z zz-space">z</span>
                <span class="l-z">z</span>
                <span class="l-i">i</span>
                <span class="l-c">c</span>
                <span class="l-o">o</span>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>Taille (px)</label>
                <select id="size-select">
                    <option value="100">100px</option>
                    <option value="150">150px</option>
                    <option value="200" selected>200px</option>
                    <option value="300">300px</option>
                    <option value="400">400px</option>
                </select>
            </div>

            <div class="control-group">
                <label>Couleur texte</label>
                <input type="color" id="text-color" value="#1a1a2e">
            </div>

            <div class="control-group">
                <label>Fond</label>
                <select id="bg-select">
                    <option value="light">Blanc</option>
                    <option value="dark">Sombre (#1a1a2e)</option>
                    <option value="transparent">Transparent</option>
                </select>
            </div>
        </div>

        <div class="buttons">
            <button class="btn primary" id="download-png-2x">Telecharger PNG (2x)</button>
            <button class="btn secondary" id="download-png-4x">Telecharger PNG (4x)</button>
        </div>

        <div class="specs-box">
            <h3>SPECS VERROUILLEES <span class="locked-badge">LOCKED</span></h3>
            <pre>
Font: Fredoka Variable
Poids i: 600
Poids z: 540
Poids c: 540
Poids o: 540
ZZ Spacing: -0.18em

Structure: wordmark-balanced
Date lock: 2025-01-02
            </pre>
        </div>
    </div>

    <div class="preview-sizes">
        <div class="preview-item large">
            <div class="preview-label">Grande (48px)</div>
            <div class="wordmark-balanced" style="color: #fff;">
                <span class="l-i">i</span>
                <span class="l-z zz-space">z</span>
                <span class="l-z">z</span>
                <span class="l-i">i</span>
                <span class="l-c">c</span>
                <span class="l-o">o</span>
            </div>
        </div>
        <div class="preview-item">
            <div class="preview-label">Moyenne (32px)</div>
            <div class="wordmark-balanced" style="color: #fff;">
                <span class="l-i">i</span>
                <span class="l-z zz-space">z</span>
                <span class="l-z">z</span>
                <span class="l-i">i</span>
                <span class="l-c">c</span>
                <span class="l-o">o</span>
            </div>
        </div>
        <div class="preview-item small">
            <div class="preview-label">Petite (20px)</div>
            <div class="wordmark-balanced" style="color: #fff;">
                <span class="l-i">i</span>
                <span class="l-z zz-space">z</span>
                <span class="l-z">z</span>
                <span class="l-i">i</span>
                <span class="l-c">c</span>
                <span class="l-o">o</span>
            </div>
        </div>
    </div>

    <canvas id="export-canvas"></canvas>

    <script>
        // LOCKED SPECS - DO NOT MODIFY
        var LOCKED_WEIGHTS = {
            i: 600,
            z: 540,
            c: 540,
            o: 540
        };
        var LOCKED_ZZ_SPACING = -0.18; // em

        var wordmark = document.getElementById('wordmark');
        var canvasWrapper = document.getElementById('canvas-wrapper');
        var sizeSelect = document.getElementById('size-select');
        var textColor = document.getElementById('text-color');
        var bgSelect = document.getElementById('bg-select');

        function updatePreview() {
            var size = sizeSelect.value;
            wordmark.style.fontSize = size + 'px';
            wordmark.style.color = textColor.value;

            canvasWrapper.classList.remove('dark-bg', 'transparent-bg');
            if (bgSelect.value === 'dark') {
                canvasWrapper.classList.add('dark-bg');
                if (textColor.value === '#1a1a2e') {
                    textColor.value = '#ffffff';
                    wordmark.style.color = '#ffffff';
                }
            } else if (bgSelect.value === 'transparent') {
                canvasWrapper.classList.add('transparent-bg');
            } else {
                canvasWrapper.style.background = '#ffffff';
            }
        }

        sizeSelect.addEventListener('change', updatePreview);
        textColor.addEventListener('input', updatePreview);
        bgSelect.addEventListener('change', updatePreview);

        function downloadPNG(scale) {
            var canvas = document.getElementById('export-canvas');
            var ctx = canvas.getContext('2d');

            var fontSize = parseInt(sizeSelect.value);
            var padding = fontSize * 0.4;

            // Calculate total width with variable weights
            // We need to measure each letter separately
            var letters = [
                { char: 'i', weight: LOCKED_WEIGHTS.i },
                { char: 'z', weight: LOCKED_WEIGHTS.z, spacing: LOCKED_ZZ_SPACING },
                { char: 'z', weight: LOCKED_WEIGHTS.z },
                { char: 'i', weight: LOCKED_WEIGHTS.i },
                { char: 'c', weight: LOCKED_WEIGHTS.c },
                { char: 'o', weight: LOCKED_WEIGHTS.o }
            ];

            // Estimate total width (approximate since canvas can't do variable weights per letter)
            ctx.font = '540 ' + fontSize + 'px Fredoka';
            var baseWidth = ctx.measureText('izzico').width;
            var zzAdjust = fontSize * LOCKED_ZZ_SPACING;
            var totalWidth = baseWidth + zzAdjust;

            var width = Math.ceil(totalWidth + padding * 2);
            var height = Math.ceil(fontSize * 1.3 + padding * 2);

            canvas.width = width * scale;
            canvas.height = height * scale;

            ctx.scale(scale, scale);

            // Background
            if (bgSelect.value === 'light') {
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, width, height);
            } else if (bgSelect.value === 'dark') {
                ctx.fillStyle = '#1a1a2e';
                ctx.fillRect(0, 0, width, height);
            }
            // transparent = no fill

            // Draw each letter with its weight
            ctx.fillStyle = textColor.value;
            ctx.textBaseline = 'middle';

            var x = padding;
            var y = height / 2;

            letters.forEach(function(letter, index) {
                ctx.font = letter.weight + ' ' + fontSize + 'px Fredoka';
                ctx.fillText(letter.char, x, y);

                var charWidth = ctx.measureText(letter.char).width;
                x += charWidth;

                // Apply ZZ spacing after first z
                if (letter.spacing) {
                    x += fontSize * letter.spacing;
                }
            });

            // Download
            var link = document.createElement('a');
            link.download = 'izzico-wordmark-' + scale + 'x.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        document.getElementById('download-png-2x').addEventListener('click', function() {
            downloadPNG(2);
        });

        document.getElementById('download-png-4x').addEventListener('click', function() {
            downloadPNG(4);
        });

        // Initial
        updatePreview();
    </script>
</body>
</html>
