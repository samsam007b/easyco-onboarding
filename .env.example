# ============================================================================
# EASYCO ENVIRONMENT VARIABLES
# ============================================================================
#
# IMPORTANT:
# - Copy this file to .env.local and fill in your actual values
# - NEVER commit .env.local to Git (it's in .gitignore)
# - For production, set these in Vercel Environment Variables
#
# ============================================================================

# ============================================================================
# SUPABASE CONFIGURATION (Required)
# ============================================================================

# Supabase Project URL
# Where to find: Supabase Dashboard > Project Settings > API > Project URL
# Format: https://xxxxxxxxxxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Supabase Anonymous Key (Public)
# Where to find: Supabase Dashboard > Project Settings > API > anon/public key
# This key is safe to use in browser (has RLS restrictions)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Service Role Key (Secret - Server Only)
# Where to find: Supabase Dashboard > Project Settings > API > service_role key
# ⚠️  WARNING: This key bypasses RLS - NEVER expose to client
# ⚠️  NEVER commit this to Git
# ⚠️  Only use in server-side code or API routes
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# GOOGLE ANALYTICS (Optional)
# ============================================================================

# Google Analytics 4 Measurement ID
# Where to find: Google Analytics > Admin > Data Streams > Measurement ID
# Format: G-XXXXXXXXXX
# Leave empty to disable analytics in production
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ============================================================================
# RATE LIMITING (Optional - Upstash Redis)
# ============================================================================

# Upstash Redis REST URL
# Where to find: Upstash Console > Your Database > REST API > UPSTASH_REDIS_REST_URL
# Required for rate limiting (login, signup, delete operations)
# If not set, rate limiting will be disabled (dev only)
# Format: https://your-redis.upstash.io
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io

# Upstash Redis REST Token
# Where to find: Upstash Console > Your Database > REST API > UPSTASH_REDIS_REST_TOKEN
# Required for rate limiting
UPSTASH_REDIS_REST_TOKEN=AXXXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# SENTRY ERROR TRACKING (Optional but Recommended)
# ============================================================================

# Sentry DSN (Data Source Name)
# Where to find: Sentry.io > Project Settings > Client Keys (DSN)
# Format: https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
# Leave empty to disable error tracking
NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Sentry Organization Slug (for source map uploads)
# Where to find: Sentry.io > Settings > General Settings > Organization Slug
SENTRY_ORG=your-org-slug

# Sentry Project Name (for source map uploads)
# Where to find: Sentry.io > Project Settings > General Settings > Project Name
SENTRY_PROJECT=easyco-onboarding

# Sentry Auth Token (for uploading source maps - Secret)
# Where to find: Sentry.io > Settings > Auth Tokens > Create New Token
# Required permissions: project:releases, org:read
# ⚠️  WARNING: Keep this secret - NEVER commit to Git
SENTRY_AUTH_TOKEN=sntrys_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Sentry Auth Token for reading issues (for Security Dashboard)
# Where to find: Sentry.io > Settings > Auth Tokens > Create New Token
# Required permissions: project:read, event:read
# ⚠️  WARNING: Keep this secret - NEVER commit to Git
SENTRY_AUTH_TOKEN_READ=sntryu_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# CONTACT INFORMATION
# ============================================================================

# Support Email - Used for customer support links throughout the app
NEXT_PUBLIC_SUPPORT_EMAIL=support@easyco.be

# Sales Email - Used for sales inquiries
NEXT_PUBLIC_SALES_EMAIL=sales@easyco.be

# General Information Email
NEXT_PUBLIC_INFO_EMAIL=info@easyco.be

# ============================================================================
# SOCIAL MEDIA LINKS
# ============================================================================

# Facebook Page URL
NEXT_PUBLIC_FACEBOOK_URL=https://facebook.com/easyco

# Instagram Profile URL
NEXT_PUBLIC_INSTAGRAM_URL=https://instagram.com/easyco

# LinkedIn Company Page URL
NEXT_PUBLIC_LINKEDIN_URL=https://linkedin.com/company/easyco

# ============================================================================
# STRIPE PAYMENTS (Required for subscriptions)
# ============================================================================

# Stripe Secret Key (Server Only)
# Where to find: Stripe Dashboard > Developers > API Keys > Secret key
# Use sk_test_xxx for development, sk_live_xxx for production
# ⚠️  WARNING: NEVER expose this key - keep it server-side only
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe Publishable Key (Public)
# Where to find: Stripe Dashboard > Developers > API Keys > Publishable key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe Webhook Secret
# Where to find: Stripe Dashboard > Developers > Webhooks > Signing secret
# ⚠️  WARNING: Keep this secret
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe Price IDs (Required for subscriptions)
# Where to find: Stripe Dashboard > Products > Select Product > Pricing > Click on Price > Price ID
# You need to create Products/Prices in Stripe Dashboard first:
#   - Owner Monthly: €15.99/month with 3 months free trial
#   - Owner Annual: €159.90/year with 3 months free trial
#   - Resident Monthly: €7.99/month with 6 months free trial
#   - Resident Annual: €79.90/year with 6 months free trial
# Format: price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_OWNER_MONTHLY=price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_OWNER_ANNUAL=price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_RESIDENT_MONTHLY=price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_RESIDENT_ANNUAL=price_xxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# ITSME INTEGRATION (Belgian Digital Identity - KYC)
# ============================================================================
# ITSME is a Belgian/European digital identity service for strong authentication
# and identity verification (KYC). Register at: https://partners.itsme.be/

# ITSME Client ID
# Where to find: ITSME Partner Portal > Your Application > Client ID
ITSME_CLIENT_ID=your_itsme_client_id

# ITSME Client Secret (Server Only)
# Where to find: ITSME Partner Portal > Your Application > Client Secret
# ⚠️  WARNING: Keep this secret - NEVER expose to client
ITSME_CLIENT_SECRET=your_itsme_client_secret

# ITSME Service Code
# Where to find: Provided by ITSME during partner onboarding
ITSME_SERVICE_CODE=your_service_code

# ITSME Environment
# Options: e2e (testing), production
# Use 'e2e' for development and testing, 'production' for live
ITSME_ENVIRONMENT=e2e

# ITSME Redirect URI
# Must match exactly what's registered in ITSME Partner Portal
# Format: https://yourdomain.com/api/auth/itsme/callback
NEXT_PUBLIC_ITSME_REDIRECT_URI=https://app.izzico.be/api/auth/itsme/callback

# ============================================================================
# PHONE VERIFICATION (Supabase Phone Auth via Twilio)
# ============================================================================
# Phone verification uses Supabase's built-in Phone Auth which is powered by Twilio.
# Configuration is done in Supabase Dashboard, NOT here.
#
# To enable Phone Auth:
# 1. Go to Supabase Dashboard > Authentication > Providers > Phone
# 2. Enable "Phone Provider"
# 3. Enter your Twilio Account SID, Auth Token, and Messaging Service SID
# 4. Customize SMS template (default: "Your verification code is {{.Code}}")
#
# No additional environment variables needed - Supabase handles everything.
# ============================================================================

# ============================================================================
# SECURITY ALERTS & NOTIFICATIONS (Optional but Recommended)
# ============================================================================

# Enable Security Email Alerts
# Set to "true" to enable email notifications for security events
SECURITY_EMAIL_ENABLED=true

# Email Recipients for Security Alerts (comma-separated)
# Example: admin@company.com,security@company.com
SECURITY_EMAIL_RECIPIENTS=admin@izzico.be,security@izzico.be

# Minimum Severity Level for Notifications
# Options: critical, high, medium, low
# Only alerts at or above this level will trigger notifications
SECURITY_MIN_SEVERITY=high

# Resend API Key (for sending emails)
# Where to find: resend.com > API Keys > Create API Key
# ⚠️  WARNING: Keep this secret
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Slack Webhook URL (Optional - for Slack notifications)
# Where to find: Slack > Apps > Incoming Webhooks > Add New Webhook
SECURITY_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx

# ============================================================================
# ADMIN SECURITY (Recommended for Production)
# ============================================================================

# IP Allowlist for Admin Routes
# Restricts admin panel access to specific IP addresses or CIDR ranges
# Format: Comma-separated list of IPs or CIDR ranges
# Examples:
#   - Single IP: 123.45.67.89
#   - Multiple IPs: 123.45.67.89,98.76.54.32
#   - CIDR range: 10.0.0.0/8,192.168.1.0/24
#   - Office + Home: your.office.ip,your.home.ip
#
# ⚠️  SECURITY BEST PRACTICE:
#   - Enable in production (whitelist your office/home IPs)
#   - Leave empty in development (allows localhost)
#   - Use your actual public IP (check at: https://whatismyipaddress.com)
#
# To enable: Add at least one IP address
# To disable: Leave empty or comment out
#
# Example for production:
# ADMIN_IP_ALLOWLIST=123.45.67.89,98.76.54.32
#
# Development (disable):
ADMIN_IP_ALLOWLIST=

# Admin Session Timeout (Minutes)
# How long admin sessions stay active without activity
# OWASP Recommendation: 15 minutes for admin routes
# Default: 15 minutes
ADMIN_SESSION_TIMEOUT_MINUTES=15

# Standard Session Timeout (Minutes)
# How long regular user sessions stay active
# Default: 30 minutes
SESSION_TIMEOUT_MINUTES=30

# ============================================================================
# AI SERVICES (Optional - for enhanced OCR and categorization)
# ============================================================================

# Google Gemini API Key (Recommended - Best OCR quality)
# Where to find: https://aistudio.google.com/app/apikey
# Free tier: ~50 requests/day
# Used for: Receipt OCR, document analysis
NEXT_PUBLIC_GOOGLE_AI_API_KEY=AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxx

# Together AI API Key (Backup for OCR)
# Where to find: https://api.together.xyz/settings/api-keys
# Free tier: $25 initial credits
# Used for: Llama Vision OCR fallback
NEXT_PUBLIC_TOGETHER_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Groq API Key (Fast text processing)
# Where to find: https://console.groq.com/keys
# Free tier: 14,400 requests/day (very generous!)
# Used for: Expense categorization, chat assistant
NEXT_PUBLIC_GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Note: If no AI keys are provided, the app falls back to Tesseract.js
# which runs locally in the browser (unlimited but lower quality)

# ============================================================================
# OTHER OPTIONAL CONFIGURATIONS
# ============================================================================

# Node Environment (set automatically by Next.js)
# development | production | test
# NODE_ENV=development

# ============================================================================
# VERCEL DEPLOYMENT NOTES
# ============================================================================
#
# When deploying to Vercel:
# 1. Go to Project Settings > Environment Variables
# 2. Add each variable above with its corresponding value
# 3. Set the environment: Production, Preview, or Development
# 4. DO NOT expose SUPABASE_SERVICE_ROLE_KEY in Preview/Development branches
#
# ============================================================================

# ============================================================================
# LOCAL DEVELOPMENT
# ============================================================================
#
# For local development:
# 1. Copy this file: cp .env.example .env.local
# 2. Fill in all REQUIRED values from your Supabase project
# 3. Restart your dev server: npm run dev
#
# ============================================================================

# ============================================================================
# TESTING (Local development only)
# ============================================================================

# Test user credentials for running ad-hoc test scripts
# Create a test user in Supabase Auth and use those credentials here
# These are ONLY used by test-*.mjs scripts, NOT the application
TEST_USER_EMAIL=your-test-user@example.com
TEST_USER_PASSWORD=your-test-password

# ============================================================================

# ============================================================================
# SECURITY CHECKLIST
# ============================================================================
#
# ✅ .env.local is in .gitignore
# ✅ SUPABASE_SERVICE_ROLE_KEY is only in .env.local (not committed)
# ✅ Vercel environment variables are set for production
# ✅ RLS policies are enabled on all tables
# ✅ Supabase service role key is regenerated if accidentally exposed
#
# ============================================================================
